[debug] [2019-02-22T14:19:54.976Z] ----------------------------------------------------------------------
[debug] [2019-02-22T14:19:54.982Z] Command:       /Users/jasongoodney/.nvm/versions/node/v8.0.0/bin/node /Users/jasongoodney/.nvm/versions/node/v8.0.0/bin/firebase deploy --only functions:generateThumbnail
[debug] [2019-02-22T14:19:54.984Z] CLI Version:   6.3.1
[debug] [2019-02-22T14:19:54.984Z] Platform:      darwin
[debug] [2019-02-22T14:19:54.985Z] Node Version:  v8.0.0
[debug] [2019-02-22T14:19:54.988Z] Time:          Fri Feb 22 2019 09:19:54 GMT-0500 (EST)
[debug] [2019-02-22T14:19:54.989Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-02-22T14:19:55.012Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-02-22T14:19:55.013Z] > authorizing via signed-in user
[debug] [2019-02-22T14:19:55.013Z] [iam] checking project picture-e4799 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-02-22T14:19:55.017Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/picture-e4799:testIamPermissions  

[debug] [2019-02-22T14:19:55.438Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'picture-e4799'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script.
[debug] [2019-02-22T14:20:00.765Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "dependencies": {
    "firebase-admin": "~6.0.0",
    "firebase-functions": "^2.1.0"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2019-02-22T14:20:00.768Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/picture-e4799?view=CONSUMER_VIEW  
 
[debug] [2019-02-22T14:20:00.770Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/picture-e4799?view=CONSUMER_VIEW  
 
[debug] [2019-02-22T14:20:01.639Z] <<< HTTP RESPONSE 200
[debug] [2019-02-22T14:20:01.742Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2019-02-22T14:20:01.743Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/picture-e4799  
 
[debug] [2019-02-22T14:20:02.030Z] <<< HTTP RESPONSE 200
[debug] [2019-02-22T14:20:02.030Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/39849184410:getServerAppConfig  
 
[debug] [2019-02-22T14:20:02.336Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2019-02-22T14:20:02.340Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/picture-e4799/configs  
 
[debug] [2019-02-22T14:20:02.766Z] <<< HTTP RESPONSE 200
[debug] [2019-02-22T14:20:02.991Z] TypeError: Cannot read property 'pipesCount' of undefined
    at module.exports.Readable.pipe (_stream_readable.js:545:16)
    at module.exports.ZipArchiveOutputStream._smartStream (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/node_modules/compress-commons/lib/archivers/zip/zip-archive-output-stream.js:184:11)
    at module.exports.ZipArchiveOutputStream._appendBuffer (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/node_modules/compress-commons/lib/archivers/zip/zip-archive-output-stream.js:82:10)
    at module.exports.ArchiveOutputStream.entry (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/node_modules/compress-commons/lib/archivers/archive-output-stream.js:86:10)
    at module.exports.ZipStream.entry (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/node_modules/zip-stream/index.js:157:49)
    at Zip.append (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/node_modules/archiver/lib/plugins/zip.js:54:15)
    at Archiver._moduleAppend (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/node_modules/archiver/lib/core.js:179:16)
    at Archiver._onQueueTask (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/node_modules/archiver/lib/core.js:400:8)
    at /Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/node_modules/async/dist/async.js:4096:9
    at Object.process (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/node_modules/async/dist/async.js:2344:17)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2019-02-22T14:27:04.389Z] ----------------------------------------------------------------------
[debug] [2019-02-22T14:27:04.395Z] Command:       /Users/jasongoodney/.nvm/versions/node/v8.0.0/bin/node /Users/jasongoodney/.nvm/versions/node/v8.0.0/bin/firebase deploy --only functions:generateThumbnail
[debug] [2019-02-22T14:27:04.395Z] CLI Version:   6.3.1
[debug] [2019-02-22T14:27:04.395Z] Platform:      darwin
[debug] [2019-02-22T14:27:04.395Z] Node Version:  v8.0.0
[debug] [2019-02-22T14:27:04.396Z] Time:          Fri Feb 22 2019 09:27:04 GMT-0500 (EST)
[debug] [2019-02-22T14:27:04.396Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-02-22T14:27:04.410Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-02-22T14:27:04.411Z] > authorizing via signed-in user
[debug] [2019-02-22T14:27:04.411Z] [iam] checking project picture-e4799 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-02-22T14:27:04.413Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/picture-e4799:testIamPermissions  

[debug] [2019-02-22T14:27:04.852Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'picture-e4799'...
[info] 
[info] i  deploying functions
[debug] [2019-02-22T14:27:04.862Z] TypeError: Path must be a string. Received undefined
    at assertPath (path.js:28:11)
    at Object.join (path.js:1232:7)
    at Config.path (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/config.js:134:39)
    at /Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/deploy/lifecycleHooks.js:59:46
    at _chain (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/deploy/index.js:22:40)
    at deploy (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/deploy/index.js:61:12)
    at Command._action (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/commands/deploy.js:63:12)
    at /Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/command.js:158:37
    at <anonymous>
    at process._tickDomainCallback (internal/process/next_tick.js:208:7)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2019-02-22T14:27:45.118Z] ----------------------------------------------------------------------
[debug] [2019-02-22T14:27:45.124Z] Command:       /Users/jasongoodney/.nvm/versions/node/v8.0.0/bin/node /Users/jasongoodney/.nvm/versions/node/v8.0.0/bin/firebase deploy --only functions:generateThumbnail
[debug] [2019-02-22T14:27:45.124Z] CLI Version:   6.3.1
[debug] [2019-02-22T14:27:45.124Z] Platform:      darwin
[debug] [2019-02-22T14:27:45.124Z] Node Version:  v8.0.0
[debug] [2019-02-22T14:27:45.125Z] Time:          Fri Feb 22 2019 09:27:45 GMT-0500 (EST)
[debug] [2019-02-22T14:27:45.126Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-02-22T14:27:45.148Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-02-22T14:27:45.148Z] > authorizing via signed-in user
[debug] [2019-02-22T14:27:45.149Z] [iam] checking project picture-e4799 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-02-22T14:27:45.153Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/picture-e4799:testIamPermissions  

[debug] [2019-02-22T14:27:45.623Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'picture-e4799'...
[info] 
[info] i  deploying functions
[debug] [2019-02-22T14:27:45.641Z] TypeError: Path must be a string. Received undefined
    at assertPath (path.js:28:11)
    at Object.join (path.js:1232:7)
    at Config.path (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/config.js:134:39)
    at /Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/deploy/lifecycleHooks.js:59:46
    at _chain (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/deploy/index.js:22:40)
    at deploy (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/deploy/index.js:61:12)
    at Command._action (/Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/commands/deploy.js:63:12)
    at /Users/jasongoodney/.nvm/versions/node/v8.0.0/lib/node_modules/firebase-tools/lib/command.js:158:37
    at <anonymous>
    at process._tickDomainCallback (internal/process/next_tick.js:208:7)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2019-02-22T14:29:01.915Z] ----------------------------------------------------------------------
[debug] [2019-02-22T14:29:01.919Z] Command:       /Users/jasongoodney/.nvm/versions/node/v8.9.1/bin/node /Users/jasongoodney/.nvm/versions/node/v8.9.1/bin/firebase deploy --only functions:generateThumbnail
[debug] [2019-02-22T14:29:01.919Z] CLI Version:   6.3.0
[debug] [2019-02-22T14:29:01.919Z] Platform:      darwin
[debug] [2019-02-22T14:29:01.919Z] Node Version:  v8.9.1
[debug] [2019-02-22T14:29:01.920Z] Time:          Fri Feb 22 2019 09:29:01 GMT-0500 (EST)
[debug] [2019-02-22T14:29:01.920Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-02-22T14:29:01.936Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-02-22T14:29:01.936Z] > authorizing via signed-in user
[debug] [2019-02-22T14:29:01.936Z] [iam] checking project picture-e4799 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-02-22T14:29:01.939Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/picture-e4799:testIamPermissions  

[debug] [2019-02-22T14:29:02.363Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'picture-e4799'...
[info] 
[info] i  deploying functions
[debug] [2019-02-22T14:29:02.377Z] TypeError: Path must be a string. Received undefined
    at assertPath (path.js:28:11)
    at Object.join (path.js:1251:7)
    at Config.path (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/config.js:134:39)
    at /Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/deploy/lifecycleHooks.js:59:46
    at _chain (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/deploy/index.js:22:40)
    at deploy (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/deploy/index.js:61:12)
    at Command._action (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/commands/deploy.js:63:12)
    at /Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/command.js:158:37
    at <anonymous>
    at process._tickDomainCallback (internal/process/next_tick.js:228:7)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2019-02-22T14:34:33.630Z] ----------------------------------------------------------------------
[debug] [2019-02-22T14:34:33.633Z] Command:       /Users/jasongoodney/.nvm/versions/node/v8.9.1/bin/node /Users/jasongoodney/.nvm/versions/node/v8.9.1/bin/firebase deploy
[debug] [2019-02-22T14:34:33.633Z] CLI Version:   6.3.0
[debug] [2019-02-22T14:34:33.633Z] Platform:      darwin
[debug] [2019-02-22T14:34:33.633Z] Node Version:  v8.9.1
[debug] [2019-02-22T14:34:33.634Z] Time:          Fri Feb 22 2019 09:34:33 GMT-0500 (EST)
[debug] [2019-02-22T14:34:33.634Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-02-22T14:34:33.647Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-02-22T14:34:33.647Z] > authorizing via signed-in user
[debug] [2019-02-22T14:34:33.648Z] [iam] checking project picture-e4799 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-02-22T14:34:33.651Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/picture-e4799:testIamPermissions  

[debug] [2019-02-22T14:34:34.097Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'picture-e4799'...
[info] 
[info] i  deploying functions
[debug] [2019-02-22T14:34:34.105Z] TypeError: Path must be a string. Received undefined
    at assertPath (path.js:28:11)
    at Object.join (path.js:1251:7)
    at Config.path (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/config.js:134:39)
    at /Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/deploy/lifecycleHooks.js:59:46
    at _chain (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/deploy/index.js:22:40)
    at deploy (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/deploy/index.js:61:12)
    at Command._action (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/commands/deploy.js:63:12)
    at /Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/command.js:158:37
    at <anonymous>
    at process._tickDomainCallback (internal/process/next_tick.js:228:7)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2019-02-22T14:36:21.773Z] ----------------------------------------------------------------------
[debug] [2019-02-22T14:36:21.776Z] Command:       /Users/jasongoodney/.nvm/versions/node/v8.9.1/bin/node /Users/jasongoodney/.nvm/versions/node/v8.9.1/bin/firebase deploy --only functions:generateThumbnail
[debug] [2019-02-22T14:36:21.776Z] CLI Version:   6.3.0
[debug] [2019-02-22T14:36:21.776Z] Platform:      darwin
[debug] [2019-02-22T14:36:21.776Z] Node Version:  v8.9.1
[debug] [2019-02-22T14:36:21.777Z] Time:          Fri Feb 22 2019 09:36:21 GMT-0500 (EST)
[debug] [2019-02-22T14:36:21.777Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-02-22T14:36:21.791Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-02-22T14:36:21.791Z] > authorizing via signed-in user
[debug] [2019-02-22T14:36:21.791Z] [iam] checking project picture-e4799 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-02-22T14:36:21.793Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/picture-e4799:testIamPermissions  

[debug] [2019-02-22T14:36:22.233Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'picture-e4799'...
[info] 
[info] i  deploying functions
[debug] [2019-02-22T14:36:22.241Z] TypeError: Path must be a string. Received undefined
    at assertPath (path.js:28:11)
    at Object.join (path.js:1251:7)
    at Config.path (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/config.js:134:39)
    at /Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/deploy/lifecycleHooks.js:59:46
    at _chain (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/deploy/index.js:22:40)
    at deploy (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/deploy/index.js:61:12)
    at Command._action (/Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/commands/deploy.js:63:12)
    at /Users/jasongoodney/.nvm/versions/node/v8.9.1/lib/node_modules/firebase-tools/lib/command.js:158:37
    at <anonymous>
    at process._tickDomainCallback (internal/process/next_tick.js:228:7)
[error] 
[error] Error: An unexpected error has occurred.
